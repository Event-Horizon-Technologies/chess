#Dockerfile for setting up fly

FROM ghcr.io/oxideops/chess:main

# Set a working directory
WORKDIR /app

COPY . .

# Combine the build commands to reduce layers
RUN trunk build && \
    cargo build -p server

ENTRYPOINT ["./target/debug/server"]
